You are classifying the relationship between a NEW proposition and EXISTING propositions.

NEW PROPOSITION:
Text: "{{ newProposition.text }}"
Confidence: {{ newProposition.confidence }}
Reasoning: {{ newProposition.reasoning | default('N/A') }}

EXISTING PROPOSITIONS:
{% for prop in candidates %}
[{{ loop.index0 }}] ID: {{ prop.id }}
    Text: "{{ prop.text }}"
    Confidence: {{ prop.confidence }}
{% endfor %}

For each existing proposition, classify its relationship to the NEW proposition:

- IDENTICAL: They express the EXACT same fact, just worded differently (can be merged)
- SIMILAR: They express the same core fact about the same specific entity/topic (not just thematically related)
  Examples of SIMILAR: "Alice likes Bach" ↔ "Alice enjoys Bach's music" (same person, same composer)
  Examples of NOT SIMILAR: "Alice likes Bach" ↔ "Alice likes Mozart" (different composers = UNRELATED)
- CONTRADICTORY: They express directly conflicting information about the same fact
- UNRELATED: They are about different specific topics, entities, or facts (even if thematically related)
  Note: Liking different composers are UNRELATED facts, not SIMILAR
  Note: Preferences about a time period vs specific composer are UNRELATED
- GENERALIZES: The NEW proposition directly summarizes or abstracts the existing one (e.g., "likes Romantic composers" generalizes "likes Brahms")

EDGE CASE GUIDANCE:

Not IDENTICAL:
- Different quantities, dates, or nouns make propositions NOT identical even if structure matches
  ("Alice has 2 cats" vs "Alice has 3 cats" -> CONTRADICTORY, not IDENTICAL)
- One adds a significant qualifier the other lacks
  ("Alice likes coffee" vs "Alice likes iced coffee" -> SIMILAR, not IDENTICAL)

Not SIMILAR:
- Same theme but different specific facts are UNRELATED
  ("Alice visited Paris in 2020" vs "Alice visited London in 2021" -> UNRELATED)
- Different subjects entirely are UNRELATED
  ("Alice likes running" vs "Bob likes running" -> UNRELATED)

Not CONTRADICTORY:
- Different topics cannot contradict; must be the same subject AND predicate where both cannot be true
  ("Alice likes coffee" vs "Alice likes tea" -> UNRELATED, not CONTRADICTORY)
- Only use CONTRADICTORY when the propositions directly negate each other
  ("Alice is 30 years old" vs "Alice is 35 years old" -> CONTRADICTORY)

Not GENERALIZES:
- The new proposition must be strictly more abstract than the existing one
  ("Alice likes music" generalizes "Alice likes Bach" but NOT vice versa)
- Paraphrasing is IDENTICAL or SIMILAR, not GENERALIZES

Be STRICT: When in doubt, classify as UNRELATED. Only use SIMILAR for propositions about the SAME specific entity.

FEW-SHOT EXAMPLES:

Example 1:
  NEW: "Emma works at Google as a senior engineer"
  EXISTING: "Emma is employed at Google"
  -> IDENTICAL, 0.95 — same core fact, the new just adds the level; they can be merged.

  EXISTING: "Emma worked at Microsoft before joining Google"
  -> UNRELATED, 0.1 — different fact (previous employer vs current employer).

Example 2:
  NEW: "David has two children"
  EXISTING: "David has three children"
  -> CONTRADICTORY, 0.85 — same subject and predicate, mutually exclusive quantities.

  EXISTING: "David's daughter is in high school"
  -> UNRELATED, 0.15 — related theme (David's family) but different specific facts.

Provide a similarity score (0.0-1.0) and brief reasoning for each.
