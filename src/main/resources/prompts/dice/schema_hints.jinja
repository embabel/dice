Entity types (from schema): [
{% for domainType in model.context.schema.domainTypes %}
    - {{ domainType.ownLabel }}: {{ domainType.description }}
{% endfor %}
]

Relationship predicates (from schema): [
{% for domainType in model.context.schema.domainTypes %}
{% for rel in domainType.relationships %}
{% if rel.metadata.predicate %}
    - {{ domainType.ownLabel }} "{{ rel.metadata.predicate }}" {{ rel.type.ownLabel }}
{% endif %}
{% endfor %}
{% endfor %}
]

{% if not model.context.relations.isEmpty() %}
Additional relation types: [
{% for rel in model.context.relations %}
    - "{{ rel.predicate }}" ({{ rel.meaning }}){% if rel.subjectType %} subject: {{ rel.subjectType }}{% endif %}{% if rel.objectType %} object: {{ rel.objectType }}{% endif %}

{% endfor %}
]
{% endif %}

Known entities, likely to be linked: [
{% for entity in model.context.knownEntities %}
    - {{ entity.name }} ({{ entity.labels() }}, id={{ entity.id }}) [{{ entity.role }}]
{% endfor %}
]

IMPORTANT: First-person pronouns ("I", "me", "my", "we", "us", "our") refer to the user entity above.
Use the user's actual name in propositions, not the pronoun.
Example: If user is "Alice" and says "I love jazz" → extract "Alice loves jazz" with suggestedId pointing to Alice.

{% if model.schemaAdherence.entities %}
**ENTITY MENTION RULES**:
- You MAY create propositions about anything (periods, genres, styles, concepts, etc.)
- But ONLY create entity mentions for the schema types listed above
- If something is NOT a schema type, include it in the proposition text WITHOUT an entity mention

Example: "Alice loves Romantic music" → proposition text only, NO entity mention for "Romantic music"
Example: "Alice loves Wagner" → proposition WITH entity mention for "Wagner" (Composer)
{% else %}
Prefer propositions with the above entity types but feel free to extract IMPORTANT propositions not limited to them.
{% endif %}

{% if model.schemaAdherence.predicates %}
When expressing relationships, use the predicates defined in the schema above.
{% else %}
When expressing relationships, prefer the predicates defined in the schema but use natural language if no predicate fits.
{% endif %}

{% include "dice/pii_guard.jinja" %}
